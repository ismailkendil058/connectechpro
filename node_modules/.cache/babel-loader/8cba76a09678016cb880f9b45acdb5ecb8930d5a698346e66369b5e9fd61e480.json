{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{AuthProvider,useAuth}from'./contexts/AuthContext';import LandingPage from'./pages/LandingPage';import LoginPage from'./pages/LoginPage';import SignupPage from'./pages/SignupPage';import CoursesPage from'./pages/CoursesPage';import CourseDetailsPage from'./pages/CourseDetailsPage';import StudentDashboard from'./pages/StudentDashboard';import AdminDashboard from'./pages/AdminDashboard';import AdminCourseManagement from'./pages/AdminCourseManagement';import QuizPage from'./pages/QuizPage';// Protected Route Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,allowedRoles=['student','admin']}=_ref;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:\"Loading...\"});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(!allowedRoles.includes(user.role)){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;};// Admin Route Component\nconst AdminRoute=_ref2=>{let{children}=_ref2;return/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin'],children:children});};function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LandingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignupPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/courses\",element:/*#__PURE__*/_jsx(CoursesPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/course/:id\",element:/*#__PURE__*/_jsx(CourseDetailsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['student'],children:/*#__PURE__*/_jsx(StudentDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/courses\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminCourseManagement,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/quiz/:courseId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(QuizPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","AuthProvider","useAuth","LandingPage","LoginPage","SignupPage","CoursesPage","CourseDetailsPage","StudentDashboard","AdminDashboard","AdminCourseManagement","QuizPage","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","allowedRoles","user","loading","className","to","replace","includes","role","AdminRoute","_ref2","App","path","element"],"sources":["C:/Users/admin/Desktop/connectechpro/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\r\nimport LandingPage from './pages/LandingPage';\r\nimport LoginPage from './pages/LoginPage';\r\nimport SignupPage from './pages/SignupPage';\r\nimport CoursesPage from './pages/CoursesPage';\r\nimport CourseDetailsPage from './pages/CourseDetailsPage';\r\nimport StudentDashboard from './pages/StudentDashboard';\r\nimport AdminDashboard from './pages/AdminDashboard';\r\nimport AdminCourseManagement from './pages/AdminCourseManagement';\r\nimport QuizPage from './pages/QuizPage';\r\n\r\n// Protected Route Component\r\nconst ProtectedRoute = ({ children, allowedRoles = ['student', 'admin'] }) => {\r\n  const { user, loading } = useAuth();\r\n\r\n  if (loading) {\r\n    return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\r\n  }\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  if (!allowedRoles.includes(user.role)) {\r\n    return <Navigate to=\"/\" replace />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\n// Admin Route Component\r\nconst AdminRoute = ({ children }) => {\r\n  return <ProtectedRoute allowedRoles={['admin']}>{children}</ProtectedRoute>;\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <div className=\"App\">\r\n          <Routes>\r\n            {/* Public Routes */}\r\n            <Route path=\"/\" element={<LandingPage />} />\r\n            <Route path=\"/login\" element={<LoginPage />} />\r\n            <Route path=\"/signup\" element={<SignupPage />} />\r\n            <Route path=\"/courses\" element={<CoursesPage />} />\r\n            <Route path=\"/course/:id\" element={<CourseDetailsPage />} />\r\n\r\n            {/* Protected Student Routes */}\r\n            <Route\r\n              path=\"/dashboard\"\r\n              element={\r\n                <ProtectedRoute allowedRoles={['student']}>\r\n                  <StudentDashboard />\r\n                </ProtectedRoute>\r\n              }\r\n            />\r\n\r\n            {/* Protected Admin Routes */}\r\n            <Route\r\n              path=\"/admin\"\r\n              element={\r\n                <AdminRoute>\r\n                  <AdminDashboard />\r\n                </AdminRoute>\r\n              }\r\n            />\r\n            <Route\r\n              path=\"/admin/courses\"\r\n              element={\r\n                <AdminRoute>\r\n                  <AdminCourseManagement />\r\n                </AdminRoute>\r\n              }\r\n            />\r\n\r\n            {/* Quiz Route */}\r\n            <Route\r\n              path=\"/quiz/:courseId\"\r\n              element={\r\n                <ProtectedRoute>\r\n                  <QuizPage />\r\n                </ProtectedRoute>\r\n              }\r\n            />\r\n\r\n            {/* Fallback Route */}\r\n            <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n          </Routes>\r\n        </div>\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}